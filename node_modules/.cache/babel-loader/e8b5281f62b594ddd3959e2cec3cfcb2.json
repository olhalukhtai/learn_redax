{"ast":null,"code":"import { CommentService } from \"../../API/PostService\";\n\n/*\n///корректный вариант//НО! все  комменты ко всем постам\nexport const loadCommAction =() =>{\n    return(dispatch)=>{\n        async function getComment(){// иногда сразу async  getComment()\n            const resp=await fetch (\"https://jsonplaceholder.typicode.com/comments\")//axios.get\n            const comments=await resp.json()\n            return comments\n        }\n        const comments=getComment()\n        console.log(comments)\n        comments.then(comments=>\n            dispatch({type:\"LOAD_COMM\",payload:comments}))\n        \n    }\n}\n*/\n//////////\n\nexport const loadCommAction = (posts, title) => {\n  return dispatch => {\n    //Найти ид\n    let idPost1;\n    posts.forEach(post => {\n      if (post.title == title) {\n        console.log(post);\n        console.log(post.id);\n        idPost1 = post.id;\n      }\n    });\n    console.log(idPost1);\n    let idPost = posts.map(post => {\n      if (post.title == title) {\n        return post.id;\n      }\n    });\n    console.log(idPost); //возвращает массив так \n    async function getComment(id) {\n      const comments = await CommentService.getAll(id);\n      return comments;\n    }\n    //? провести соответствие, что title поста соответсвует idPost  \n    //и принирмать title а передавать  в getComment(idPost) уже\n    const comments = getComment(idPost);\n    console.log(comments);\n    comments.then(comments => dispatch({\n      type: \"LOAD_COMM\",\n      payload: comments\n    }));\n  };\n};\nexport const addCommAction = function (body, email, name, title) {\n  let id = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  let postId = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n  //? к какому посту title\n  return {\n    type: \"ADD_COMM\",\n    payload: {\n      body,\n      email,\n      name,\n      title,\n      id,\n      postId\n    }\n  };\n};","map":{"version":3,"names":["CommentService","loadCommAction","posts","title","dispatch","idPost1","forEach","post","console","log","id","idPost","map","getComment","comments","getAll","then","type","payload","addCommAction","body","email","name","postId"],"sources":["/Users/olgaluhtaj/Desktop/react_modul/src/store/actions/commAction.js"],"sourcesContent":["\nimport { CommentService } from \"../../API/PostService\"\n\n\n\n/*\n///корректный вариант//НО! все  комменты ко всем постам\nexport const loadCommAction =() =>{\n    return(dispatch)=>{\n        async function getComment(){// иногда сразу async  getComment()\n            const resp=await fetch (\"https://jsonplaceholder.typicode.com/comments\")//axios.get\n            const comments=await resp.json()\n            return comments\n        }\n        const comments=getComment()\n        console.log(comments)\n        comments.then(comments=>\n            dispatch({type:\"LOAD_COMM\",payload:comments}))\n        \n    }\n}\n*/\n//////////\n\n\n\nexport const loadCommAction =(posts,title) =>{\n    return(dispatch)=>{\n        //Найти ид\n        let idPost1\n        posts.forEach(post => {if(post.title==title){\n            console.log(post)\n            console.log(post.id)\n            idPost1=post.id\n        }\n        })\n        console.log(idPost1)\n        let idPost=posts.map(post =>  { if(post.title==title){\n        return post.id\n        }    \n        });\n        \n        console.log(idPost)//возвращает массив так \n        async function getComment(id){\n            const comments=await CommentService.getAll(id)\n            return comments\n        }\n        //? провести соответствие, что title поста соответсвует idPost  \n        //и принирмать title а передавать  в getComment(idPost) уже\n        const comments=getComment(idPost)\n        console.log(comments)\n        comments.then(comments=>\n            dispatch({type:\"LOAD_COMM\",payload:comments}))\n        \n    }\n}\n\n\nexport const addCommAction =(body,email,name,title,id=0,postId=0,) =>{\n    //? к какому посту title\nreturn ({type:\"ADD_COMM\",payload:{body,email,name,title,id,postId}})\n    \n}\n\n\n\n"],"mappings":"AACA,SAASA,cAAc,QAAQ,uBAAuB;;AAItD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,OAAO,MAAMC,cAAc,GAAE,CAACC,KAAK,EAACC,KAAK,KAAI;EACzC,OAAOC,QAAQ,IAAG;IACd;IACA,IAAIC,OAAO;IACXH,KAAK,CAACI,OAAO,CAACC,IAAI,IAAI;MAAC,IAAGA,IAAI,CAACJ,KAAK,IAAEA,KAAK,EAAC;QACxCK,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,EAAE,CAAC;QACpBL,OAAO,GAACE,IAAI,CAACG,EAAE;MACnB;IACA,CAAC,CAAC;IACFF,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC;IACpB,IAAIM,MAAM,GAACT,KAAK,CAACU,GAAG,CAACL,IAAI,IAAK;MAAE,IAAGA,IAAI,CAACJ,KAAK,IAAEA,KAAK,EAAC;QACrD,OAAOI,IAAI,CAACG,EAAE;MACd;IACA,CAAC,CAAC;IAEFF,OAAO,CAACC,GAAG,CAACE,MAAM,CAAC;IACnB,eAAeE,UAAU,CAACH,EAAE,EAAC;MACzB,MAAMI,QAAQ,GAAC,MAAMd,cAAc,CAACe,MAAM,CAACL,EAAE,CAAC;MAC9C,OAAOI,QAAQ;IACnB;IACA;IACA;IACA,MAAMA,QAAQ,GAACD,UAAU,CAACF,MAAM,CAAC;IACjCH,OAAO,CAACC,GAAG,CAACK,QAAQ,CAAC;IACrBA,QAAQ,CAACE,IAAI,CAACF,QAAQ,IAClBV,QAAQ,CAAC;MAACa,IAAI,EAAC,WAAW;MAACC,OAAO,EAACJ;IAAQ,CAAC,CAAC,CAAC;EAEtD,CAAC;AACL,CAAC;AAGD,OAAO,MAAMK,aAAa,GAAE,UAACC,IAAI,EAACC,KAAK,EAACC,IAAI,EAACnB,KAAK,EAAmB;EAAA,IAAlBO,EAAE,uEAAC,CAAC;EAAA,IAACa,MAAM,uEAAC,CAAC;EAC5D;EACJ,OAAQ;IAACN,IAAI,EAAC,UAAU;IAACC,OAAO,EAAC;MAACE,IAAI;MAACC,KAAK;MAACC,IAAI;MAACnB,KAAK;MAACO,EAAE;MAACa;IAAM;EAAC,CAAC;AAEnE,CAAC"},"metadata":{},"sourceType":"module"}